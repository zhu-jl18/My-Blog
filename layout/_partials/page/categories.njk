<div class="category-all-page">
  <div class="category-all-title">
    å…± {{ site.categories.length }} ä¸ªåˆ†ç±»
  </div>

  <div class="categories-overview">
    <div class="categories-grid">
      {# ä½¿ç”¨ data è¦†ç›–æ¥å®šä¹‰è¦å±•ç¤ºçš„é¡¶çº§åˆ†ç±» #}
      {% set overrides = site.data.categories or {} %}

      {% for name, meta in overrides %}
        {# è®¡ç®—è¯¥åˆ†ç±»çš„æ–‡ç« æ•°ï¼šåœ¨ç«™ç‚¹æ‰€æœ‰åˆ†ç±»ä¸­æ‰¾åˆ°åŒååˆ†ç±»å¹¶è¯»å–é•¿åº¦ #}
        {% set cat_count = 0 %}
        {% for pair in site.categories %}
          {% if pair[0] == name %}
            {% set cat_count = pair[1].length %}
          {% endif %}
        {% endfor %}

        {% if cat_count > 0 %}
        <div class="category-item">
          <div class="category-header">
            <span class="category-icon">{{ meta.icon or "ğŸ“" }}</span>
            <h4 class="category-title">{{ meta.title or name }}</h4>
            <span class="category-count">{{ cat_count }}ç¯‡</span>
          </div>
          {% if meta.desc %}<p class="category-desc">{{ meta.desc }}</p>{% endif %}
          <a href="/categories/{{ name | urlencode }}/" class="category-link">è¿›å…¥åˆ†ç±» â†’</a>
        </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>

